!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s="./src/js/main.js")}({"./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/*! no static exports found */function(module,exports){eval("// import bootstrap from 'bootstrap';\nwindow.addEventListener('DOMContentLoaded', function () {\n  var form = document.querySelector('.needs-validation');\n  var inputMsg = form.querySelector('[name=\"msg\"');\n  form.addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    if (!form.checkValidity()) {\n      event.preventDefault();\n      event.stopPropagation();\n    } else {\n      var formData = new FormData(form);\n      sendComment(formData);\n    }\n\n    form.classList.add('was-validated');\n  });\n\n  function sendComment(formData) {\n    fetch('/backend/addComment', {\n      method: 'POST',\n      body: formData\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res) {\n        console.log(res);\n        render([res]);\n        inputMsg.value = '';\n        form.classList.remove('was-validated');\n      } else {\n        console.log('Ошибка при добавлении сообщения в БД');\n      }\n    });\n  }\n\n  function getComments() {\n    fetch('/backend/getComments', {\n      method: 'POST'\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res) {\n        console.log(res);\n        render(res);\n      } else {\n        console.log('Ошибка при получении сообщений');\n      }\n    });\n  }\n\n  getComments();\n\n  function render() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var container = document.querySelector('#comments');\n    container.insertAdjacentHTML('afterbegin', data.map(function (el) {\n      return getTemplate(el.name, el.email, el.msg);\n    }).join(' '));\n  }\n\n  function getTemplate(name, email, msg) {\n    return \"\\n            <div class=\\\"col card-wrapper\\\">\\n                <div class=\\\"card mx-0 mx-lg-3 mb-5 text-center\\\">\\n                    <div class=\\\"card-title fw-bold mb-4 py-3\\\">\".concat(name, \"</div>\\n                    <div class=\\\"card-body\\\">\\n                        <p class=\\\"card-text card-email fw-bold mb-4\\\">\").concat(email, \"</p>\\n                        <p class=\\\"card-text card-msg mb-5\\\">\").concat(msg, \"</p>\\n                    </div>\\n                </div>\\n            </div>\\n        \");\n  }\n});\n\n//# sourceURL=webpack:///./src/js/main.js?")}});
//# sourceMappingURL=main.js.map
